---
import type { Image, Testimony } from "@/content/utils";
import { Image as Img } from "@unpic/astro";
import TestimoniesItems from "./testimonies-items.svelte";
import Section, { type SectionProps } from "./ui/section.astro";
import Title from "./ui/title.astro";

// PROPS ***********************************************************************************************************************************
const { image, testimonies, ...rest } = Astro.props;

// TYPES ***********************************************************************************************************************************
type Props = SectionProps & { image?: Image; testimonies: Testimony[] };
export type TestimoniesSectionProps = Props;
---

<Section class="relative" {...rest}>
  {image && <Img {...image} objectFit="cover" layout="fullWidth" height={596} class="absolute inset-0" />}
  <Title slot="header" text="TÃ©moignages" class="z-10" />
  <div class="relative h-[28rem] w-full">
    <TestimoniesItems client:visible {testimonies} />
  </div>
</Section>
